!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Koto=e():t.Koto=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=r(l),h=n(2),p=r(h),y=function(){function t(e){var n=this;a(this,t),this.base=e,this.hasDrawn=!1,this.merge={},this.merge.configs=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.configs=Object.assign.apply(Object,[{},n.configs].concat(e)),n.configs},this.merge.accessors=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.accessors=Object.assign.apply(Object,[{},n.accessors].concat(e)),n.accessors},this.configs={},this.accessors={},this.promise=null,this._layers=new Map,this._attached=new Map,this._events=new Map,this.c=this.config,this.a=this.accessor}return c(t,[{key:"transform",value:function(t){return t}},{key:"demux",value:function(t,e){return e}},{key:"preDraw",value:function(){}},{key:"postDraw",value:function(){}},{key:"postTransition",value:function(){}},{key:"unlayer",value:function(t){var e=this.layer(t);return this._layers["delete"](t),delete e._chart,e}},{key:"layer",value:function(t,e,n){var r,i=this;if(1===arguments.length)return this._layers.get(t);if(2===arguments.length){if(e instanceof p["default"])return e._chart=this,this._layers.set(t,e),this._layers.get(t);(0,f["default"])(!1,"When reattaching a layer, the second argument must be a koto layer")}return e._chart=this,r=new p["default"](e,n),r.remove=function(){return i._layers["delete"](t),this},this._layers.set(t,r),r}},{key:"attach",value:function(t,e){return 1===arguments.length?this._attached.get(t):(this._attached.set(t,e),e)}},{key:"draw",value:function(t){var e,n,r=this,i=[];return Promise.resolve(this.transform(t)).then(function(t){r.preDraw(t),r.trigger("preDraw",t);var o=!0,a=!1,s=void 0;try{for(var c,l=r._layers.values()[Symbol.iterator]();!(o=(c=l.next()).done);o=!0)e=c.value,e.draw(t),i.push(e.promise)}catch(f){a=!0,s=f}finally{try{!o&&l["return"]&&l["return"]()}finally{if(a)throw s}}var h=!0,p=!1,y=void 0;try{for(var d,v=r._attached.entries()[Symbol.iterator]();!(h=(d=v.next()).done);h=!0){var _=u(d.value,2),m=_[0],g=_[1];n=r.demux?r.demux(m,t):t,g.draw(n),i.push(g.promise)}}catch(f){p=!0,y=f}finally{try{!h&&v["return"]&&v["return"]()}finally{if(p)throw y}}return r.hasDrawn=!0,r.promise=Promise.all(i),r.postDraw(),r.trigger("postDraw",t),r.promise.then(function(){r.postTransition(t),r.trigger("postTransition",t)}),t})}},{key:"on",value:function(t,e,n){var r;return r=this._events.has(t)?this._events.get(t):new Set,r.add({callback:e,context:n||this,_chart:this}),this._events.set(t,r),this}},{key:"once",value:function(t,e,n){var r=this,i=function o(){r.off(t,o),e.apply(this,arguments)};return this.on(t,i,n)}},{key:"off",value:function(t,e,n){return 0===arguments.length?(this._events.clear(),this):1===arguments.length?(this._events.has(t)&&this._events.get(t).clear(),this):(this._events.get(t).forEach(function(t,r,i){(e&&e===r.callback||n&&n===r.context)&&i["delete"](t)}),this)}},{key:"trigger",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this._events.has(t)&&this._events.get(t).forEach(function(t){var e;(e=t.callback).call.apply(e,[t.context].concat(n))}),this}},{key:"destroy",value:function(){var t=this.base.node();this.configs={},this.accessors={},this.promise=null,this._layers.clear(),this._attached.clear(),this._events.clear(),t.parentNode&&t.parentNode.removeChild(t)}},{key:"config",value:function(t,e){function n(){function t(t,e){var n=Math.min.call(null,t.map(function(t){return o.config(t)}));return e/n}i.constrain===!0?i.percentage=t(["width","height"],i.value):Array.isArray(i.constrain)?i.percentage=t(i.constrain,i.value):i.percentage=t([i.constrain],i.value)}var r,i,o=this;if(0===arguments.length)return this.configs;if(1===arguments.length){if("object"===("undefined"==typeof t?"undefined":s(t))){for(r in t)this.configs.hasOwnProperty(r)?(i=this.configs[r],i.hasOwnProperty("setter")?i.value=i.setter.call(i,t[r]):i.value=t[r],i.hasOwnProperty("constrain")&&n(),this.configs[r]=i):console.warn("config with name "+t+" is not defined.");return this}return(0,f["default"])(this.configs.hasOwnProperty(t),t+" is not a valid option."),i=this.configs[t],i.hasOwnProperty("getter")?i.getter.call(i):i.value}return 2===arguments.length?(this.configs.hasOwnProperty(t)?(i=this.configs[t],i.hasOwnProperty("setter")?i.value=i.setter.call(i,e):i.value=e,i.hasOwnProperty("constrain")&&n(),this.configs[t]=i):console.warn("config with name "+t+" is not defined."),this):void 0}},{key:"accessor",value:function(t,e){var n;if(0===arguments.length)return this.accessors;if(1===arguments.length){if("string"==typeof t)return(0,f["default"])(this.accessors.hasOwnProperty(t),t+" is not a valid accessor."),this.accessors[t];for(n in t)this.accessors[n]=t[n]}else this.accessors[t]=e;return this}}],[{key:"extend",value:function(t){var e=function(e){function n(e){a(this,n);var r,o=i(this,Object.getPrototypeOf(n).call(this,e));if("function"==typeof t)t.call(o);else{for(r in t)o[r]=t[r];o.initialize.call(o)}return o}return o(n,e),n}(this);return e}}]),t}();y.Layer=p["default"],e["default"]=y},function(t,e){"use strict";function n(t,e){if(!t)throw new Error("[koto] "+e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),s=r(a),u=n(3),c={selection:u.selection},l=function(){function t(e,n){if(i(this,t),this._base=e,this._handlers={},this._lifecycleRe=/^(enter|update|merge|exit)(:transition)?$/,n&&(this.dataBind=n.dataBind,this.insert=n.insert,"events"in n))for(var r in n.events)this.on(r,n.events[r])}return o(t,[{key:"dataBind",value:function(){(0,s["default"])(!1,"Layers must specify a dataBind method.")}},{key:"insert",value:function(){(0,s["default"])(!1,"Layers must specify an `insert` method.")}},{key:"on",value:function(t,e,n){return n=n||{},(0,s["default"])(this._lifecycleRe.test(t),"Unrecognized lifecycle event name specified to 'Layer#on': '"+t+"'."),t in this._handlers||(this._handlers[t]=[]),this._handlers[t].push({callback:e,chart:n.chart||null}),this}},{key:"off",value:function(t,e){var n,r=this._handlers[t];if((0,s["default"])(this._lifecycleRe.test(t),"Unrecognized lifecycle event name specified to 'Layer#on': '"+t+"'."),!r)return this;if(1===arguments.length)return r.length=0,this;for(n=r.length-1;n>-1;--n)r[n].callback===e&&r.splice(n,1);return this}},{key:"draw",value:function(t){function e(t,e){var n=0;0===t.size()?e():t.each(function(){++n}).on("interrupt.promise",function(){e.apply(this,arguments)}).on("end.promise",function(){--n||e.apply(this,arguments)})}function n(t){a.call(e,function(){t(!0)})}var r,i,o,a,u,l,f,h,p,y,d,v=[];r=this.dataBind.call(this._base,t,this),(0,s["default"])(r instanceof c.selection,"Invalid selection defined by `Layer#dataBind` method."),(0,s["default"])(r.enter,"Layer selection not properly bound."),i=r.enter(),i._chart=this._base._chart,o=[{name:"update",selection:r},{name:"enter",selection:i,method:this.insert},{name:"merge",selection:r},{name:"exit",selection:r,method:r.exit}];for(var _=0,m=o.length;_<m;++_)if(f=o[_].name,a=o[_].selection,u=o[_].method,"function"==typeof u&&(a=u.call(a,a)),!a.empty()){if((0,s["default"])(a&&a instanceof c.selection,"Invalid selection defined for "+f+" lifecycle event."),l=this._handlers[f])for(h=0,p=l.length;h<p;++h)a._chart=l[h].chart||this._base._chart,l[h].callback.call(a,a);if(l=this._handlers[f+":transition"],l&&l.length)for(a=a.transition(),d=l.length,y=0;y<d;++y)a._chart=l[y].chart||this._base._chart,l[y].callback.call(a,a),v.push(new Promise(n));this.promise=Promise.all(v)}}}]),t}();e["default"]=l},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Vt.hasOwnProperty(e)?{space:Vt[e],local:t}:t}function n(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ut&&e.documentElement.namespaceURI===Ut?e.createElement(t):e.createElementNS(n,t)}}function r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(t){var i=e(t);return(i.local?r:n)(i)}function o(){return new a}function a(){this._="@"+(++Ht).toString(36)}function s(t,e,n){return t=u(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function u(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function c(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function l(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function f(t,e,n){var r=$t.hasOwnProperty(t.type)?s:u;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function h(t,e,n){var r,i,o=c(t+""),a=o.length;{if(!(arguments.length<2)){for(s=e?f:l,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,h=0,p=s.length;h<p;++h)for(r=0,u=s[h];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}}function p(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function y(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function d(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function v(t){var e=y();return e.changedTouches&&(e=e.changedTouches[0]),d(t,e)}function _(){}function m(t){return null==t?_:function(){return this.querySelector(t)}}function g(t){"function"!=typeof t&&(t=m(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Dt(r,this._parents)}function w(){return[]}function b(t){return null==t?w:function(){return this.querySelectorAll(t)}}function x(t){"function"!=typeof t&&(t=b(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Dt(r,i)}function A(t){"function"!=typeof t&&(t=Yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Dt(r,this._parents)}function S(t){return new Array(t.length)}function k(){return new Dt(this._enter||this._groups.map(S),this._parents)}function O(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function P(t){return function(){return t}}function E(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new O(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function j(t,e,n,r,i,o,a){var s,u,c,l={},f=e.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=c=Ft+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<h;++s)c=Ft+a.call(t,o[s],s,o),(u=l[c])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new O(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l[p[s]]===u&&(i[s]=u)}function M(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n=e?j:E,r=this._parents,i=this._groups;"function"!=typeof t&&(t=P(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=t.call(l,l&&l.__data__,c,r),y=p.length,d=s[c]=new Array(y),v=a[c]=new Array(y),_=u[c]=new Array(h);n(l,f,d,v,_,p,e);for(var m,g,w=0,b=0;w<y;++w)if(m=d[w]){for(w>=b&&(b=w+1);!(g=v[b])&&++b<y;);m._next=g||null}}return a=new Dt(a,r),a._enter=s,a._exit=u,a}function L(){return new Dt(this._exit||this._groups.map(S),this._parents)}function T(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new Dt(a,this._parents)}function N(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}function C(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=D);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Dt(i,this._parents).order()}function D(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function B(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function R(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function q(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function z(){var t=0;return this.each(function(){++t}),t}function I(){return!this.node()}function U(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}function V(t){return function(){this.removeAttribute(t)}}function H(t){return function(){this.removeAttributeNS(t.space,t.local)}}function G(t,e){return function(){this.setAttribute(t,e)}}function X(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function K(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Y(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $(t,n){var r=e(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?H:V:"function"==typeof n?r.local?Y:K:r.local?X:G)(r,n))}function W(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function F(t){return function(){this.style.removeProperty(t)}}function J(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Q(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Z(t,e,n){var r;return arguments.length>1?this.each((null==e?F:"function"==typeof e?Q:J)(t,e,null==n?"":n)):W(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)}function tt(t){return function(){delete this[t]}}function et(t,e){return function(){this[t]=e}}function nt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function rt(t,e){return arguments.length>1?this.each((null==e?tt:"function"==typeof e?nt:et)(t,e)):this.node()[t]}function it(t){return t.trim().split(/^|\s+/)}function ot(t){return t.classList||new at(t)}function at(t){this._node=t,this._names=it(t.getAttribute("class")||"")}function st(t,e){for(var n=ot(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ut(t,e){for(var n=ot(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ct(t){return function(){st(this,t)}}function lt(t){return function(){ut(this,t)}}function ft(t,e){return function(){(e.apply(this,arguments)?st:ut)(this,t)}}function ht(t,e){var n=it(t+"");if(arguments.length<2){for(var r=ot(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ft:e?ct:lt)(n,e))}function pt(){this.textContent=""}function yt(t){return function(){this.textContent=t}}function dt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function vt(t){return arguments.length?this.each(null==t?pt:("function"==typeof t?dt:yt)(t)):this.node().textContent}function _t(){this.innerHTML=""}function mt(t){return function(){this.innerHTML=t}}function gt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function wt(t){return arguments.length?this.each(null==t?_t:("function"==typeof t?gt:mt)(t)):this.node().innerHTML}function bt(){this.nextSibling&&this.parentNode.appendChild(this)}function xt(){return this.each(bt)}function At(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function St(){return this.each(At)}function kt(t){var e="function"==typeof t?t:i(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ot(){return null}function Pt(t,e){var n="function"==typeof t?t:i(t),r=null==e?Ot:"function"==typeof e?e:m(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Et(){var t=this.parentNode;t&&t.removeChild(this)}function jt(){return this.each(Et)}function Mt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Lt(t,e,n){var r=W(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Tt(t,e){return function(){return Lt(this,t,e)}}function Nt(t,e){return function(){return Lt(this,t,e.apply(this,arguments))}}function Ct(t,e){return this.each(("function"==typeof e?Nt:Tt)(t,e))}function Dt(t,e){this._groups=t,this._parents=e}function Bt(){return new Dt([[document.documentElement]],Jt)}function Rt(t){return"string"==typeof t?new Dt([[document.querySelector(t)]],[document.documentElement]):new Dt([[t]],Jt)}function qt(t){return"string"==typeof t?new Dt([document.querySelectorAll(t)],[document.documentElement]):new Dt([null==t?[]:t],Jt)}function zt(t,e,n){arguments.length<3&&(n=e,e=y().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return d(t,r);return null}function It(t,e){null==e&&(e=y().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=d(t,e[n]);return i}var Ut="http://www.w3.org/1999/xhtml",Vt={svg:"http://www.w3.org/2000/svg",xhtml:Ut,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ht=0;a.prototype=o.prototype={constructor:a,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Gt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Xt=document.documentElement;if(!Xt.matches){var Kt=Xt.webkitMatchesSelector||Xt.msMatchesSelector||Xt.mozMatchesSelector||Xt.oMatchesSelector;Gt=function(t){return function(){return Kt.call(this,t)}}}}var Yt=Gt,$t={};if(t.event=null,"undefined"!=typeof document){var Wt=document.documentElement;"onmouseenter"in Wt||($t={mouseenter:"mouseover",mouseleave:"mouseout"})}O.prototype={constructor:O,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ft="$";at.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Jt=[null];Dt.prototype=Bt.prototype={constructor:Dt,select:g,selectAll:x,filter:A,data:M,enter:k,exit:L,merge:T,order:N,sort:C,call:B,nodes:R,node:q,size:z,empty:I,each:U,attr:$,style:Z,property:rt,classed:ht,text:vt,html:wt,raise:xt,lower:St,append:kt,insert:Pt,remove:jt,datum:Mt,on:h,dispatch:Ct},t.creator=i,t.local=o,t.matcher=Yt,t.mouse=v,t.namespace=e,t.namespaces=Vt,t.select=Rt,t.selectAll=qt,t.selection=Bt,t.selector=m,t.selectorAll=b,t.touch=zt,t.touches=It,t.window=W,t.customEvent=p,Object.defineProperty(t,"__esModule",{value:!0})})}])});
//# sourceMappingURL=koto.js.map